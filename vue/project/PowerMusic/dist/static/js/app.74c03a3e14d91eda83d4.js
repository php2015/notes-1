webpackJsonp([1],{"2nhf":function(t,n){},"3OA4":function(t,n){},NHnr:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var s=e("/5sW"),i=e("Au9i"),a=e.n(i),o={name:"SearchPart",data:function(){return{keywords:""}},methods:{search:function(){i.Indicator.open(),this.$store.dispatch("search",this.keywords)}}},r={render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"top"},[e("h1",[t._v("Power Music")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.keywords,expression:"keywords"}],attrs:{type:"text",placeholder:"Search title, singer or album.."},domProps:{value:t.keywords},on:{keyup:function(n){return!n.type.indexOf("key")&&t._k(n.keyCode,"enter",13,n.key,"Enter")?null:t.search(n)},input:function(n){n.target.composing||(t.keywords=n.target.value)}}})])},staticRenderFns:[]};var c={render:function(){var t=this.$createElement,n=this._self._c||t;return n("div",{staticClass:"bottom"},[n("audio",{attrs:{src:this.$store.state.musicURL,controls:"",autoplay:""}})])},staticRenderFns:[]};var u={render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"content-part"},[e("ul",{key:(new Date).getTime(),staticClass:"list"},t._l(t.songList,function(n,s){return e("li",{key:s},[e("strong",[t._v(t._s(t._f("artists")(n))+" - "+t._s(n.name))]),t._v(" "),e("div",{staticClass:"btn-wrap"},[e("div",{staticClass:"play-music",class:{active:s==t.$store.state.currentIndex},on:{click:function(e){return t.playMusic(n.id,s)}}},[e("i",{staticClass:"iconfont icon-icon_play"})]),t._v(" "),0!=n.mvid?e("div",{staticClass:"play-video",on:{click:function(e){return t.playVideo(n.mvid)}}},[e("i",{staticClass:"iconfont icon-shipin"})]):t._e()])])}),0)])},staticRenderFns:[]};var l={render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return t.$store.state.maskIsShow?e("div",{staticClass:"video-part mask",on:{click:function(n){return n.target!==n.currentTarget?null:t.removeMask(n)}}},[e("video",{attrs:{src:t.$store.state.videoURL,controls:""},on:{play:t.stopMusic}})]):t._e()},staticRenderFns:[]};var d={name:"App",components:{SearchPart:e("VU/8")(o,r,!1,function(t){e("2nhf")},"data-v-1f546d3a",null).exports,BottomPart:e("VU/8")({name:"BottomPart"},c,!1,function(t){e("i/we")},"data-v-37273a8d",null).exports,ContentPart:e("VU/8")({name:"ContentPart",data:function(){return{songList:this.$store.state.songList}},filters:{artists:function(t){return t.artists.map(function(t){return t.name}).join(" & ")}},methods:{playMusic:function(t,n){var e={id:t,index:n};this.$store.dispatch("playMusic",e)},playVideo:function(t){this.$store.dispatch("playVideo",t)}}},u,!1,function(t){e("3OA4")},"data-v-31911313",null).exports,VideoPart:e("VU/8")({name:"VideoPart",methods:{removeMask:function(){this.$store.commit("REMOVEMASK")},stopMusic:function(){this.$store.commit("STOPMUSIC")}}},l,!1,function(t){e("lWFZ")},"data-v-43e23e34",null).exports}},f={render:function(){var t=this.$createElement,n=this._self._c||t;return n("div",{attrs:{id:"app"}},[n("search-part"),this._v(" "),n("content-part"),this._v(" "),n("bottom-part"),this._v(" "),n("video-part")],1)},staticRenderFns:[]};var m=e("VU/8")(d,f,!1,function(t){e("u9cB")},null,null).exports,p=e("NYxO"),h=e("mtWM"),v=e.n(h);function y(t){return v.a.create({timeout:1e5})(t)}s.default.use(p.a);var _={search:function(t,n){y({url:"https://autumnfish.cn/search",params:{keywords:n}}).then(function(n){var e=n.data.result.songs;t.commit("SEARCH",e),i.Indicator.close()}).catch(function(t){console.log(t)})},playMusic:function(t,n){y({url:"https://autumnfish.cn/song/url",params:{id:n.id}}).then(function(e){var s=e.data.data[0].url;console.log(s);var i={musicURL:s,index:n.index};t.commit("PLAYMUSIC",i)}).catch(function(t){console.log(t)})},playVideo:function(t,n){y({url:"https://autumnfish.cn/mv/url",params:{id:n}}).then(function(n){var e=n.data.data.url;t.commit("PLAYVIDEO",e)}).catch(function(t){console.log(t)})}},k=new p.a.Store({state:{songList:[],musicURL:"",videoURL:"",maskIsShow:!1,currentIndex:-1},getters:{},actions:_,mutations:{SEARCH:function(t,n){t.songList.length=0,t.currentIndex=-1,n.forEach(function(n){t.songList.push(n)})},PLAYMUSIC:function(t,n){t.musicURL=n.musicURL,t.currentIndex=n.index},PLAYVIDEO:function(t,n){t.videoURL=n,t.maskIsShow=!0},REMOVEMASK:function(t){t.maskIsShow=!1},STOPMUSIC:function(t){t.musicURL="",t.currentIndex=-1}}});e("d8/S");s.default.config.productionTip=!1,s.default.use(a.a),new s.default({el:"#app",store:k,render:function(t){return t(m)}})},"d8/S":function(t,n){},"i/we":function(t,n){},lWFZ:function(t,n){},u9cB:function(t,n){}},["NHnr"]);
//# sourceMappingURL=app.74c03a3e14d91eda83d4.js.map